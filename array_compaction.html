<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Array Compaction</title>
		<meta charset = "UTF-8" />
	</head>
	<body>
	
		<script type="text/javascript">

			function compact_array(sorted) {
			
				sorted = sorted && sorted.constructor === Array ? sorted : [0];
			
				var uniques = [];
				for(var i in sorted) {
				
					var current = sorted[i];
					if(!hasItem(uniques, current)) uniques.push(current);
				}
				return uniques;
			}
			alert(compact_array([1, 3, 7, 7, 8, 9, 9, 9, 10]));
			
			function hasItem(a, obj) {
			
				var i = a.length;
				while (i--) {
				
					if (a[i] === obj) {
					
					  return true;
					}
				}
				return false;
			}
		</script>	
	</body>
</html>